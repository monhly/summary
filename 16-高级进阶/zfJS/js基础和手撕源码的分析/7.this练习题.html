<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>this的习题练习</title>
</head>

<body>
    <script>
        // var num = 10; // 60
        // var obj = {
        //     num: 20 //30
        // };
        // obj.fn = (function (num) {
        //     this.num = num * 3;
        //     num++;//
        //     return function (n) {
        //         this.num += n;
        //         num++;
        //         console.log(num);
        //         console.log('this.name', this.num);
        //     }
        // })(obj.num);
        // var fn = obj.fn;
        // fn(5);
        // obj.fn(10);
        // console.log(num, obj.num);

        // let obj = {
        //     fn: (function () {
        //         console.log('上面的this', this)
        //         return function () {
        //             console.log(this === obj);
        //             console.log(this)
        //         }
        //     })()
        // };
        // obj.fn();
        // let fn = obj.fn;
        // fn();


        // var name = 'window';
        // var Tom = {
        //     name: "Tom",
        //     show: function () {
        //         console.log(this.name);
        //     },
        //     wait: function () {
        //         var fun = this.show;
        //         fun(); //window 函数执行的时候前面没有点,所以在调用的时候,指向的就是window
        //     }
        // };
        // Tom.wait();


        // window.val = 1;
        // var json = {
        //     val: 10, //20
        //     dbl: function () {
        //         this.val *= 2;
        //     }
        // }
        // json.dbl();
        // var dbl = json.dbl;
        // dbl();
        // dbl()
        // // json.dbl.call(window);
        // alert(window.val + json.val); //24

        (function () {
            let val = 1; //2
            let json = {
                val: 10,
                dbl: function () {
                    val *= 2;
                }
            };
            json.dbl();
            alert(json.val + val); //12
        })();

    </script>
</body>

</html>