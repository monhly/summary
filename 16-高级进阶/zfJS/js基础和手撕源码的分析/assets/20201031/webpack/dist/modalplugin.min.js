(()=>{"use strict";var t={598:(t,e,n)=>{var o=Object.getPrototypeOf,r={},a=r.toString,l=r.hasOwnProperty,c=l.toString,i=c.call(Object);function d(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?r[a.call(t)]||"object":typeof t}function s(t){var e,n,r=d(t);return!(!t||"object"!==r||(e=o(t))&&("function"!=typeof(n=l.call(e,"constructor")&&e.constructor)||c.call(n)!==i))}function u(t){return"function"==typeof t&&"number"!=typeof t.nodeType}function p(t){return null!=t&&t===t.window}function f(t){var e=!!t&&"length"in t&&t.length,n=d(t);return!u(t)&&!p(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}["Boolean","Number","String","Symbol","Function","Array","Date","RegExp","Object","Error"].forEach((function(t){r["[object "+t+"]"]=t.toLowerCase()}));const g={toType:d,isPlainObject:s,isFunction:u,isWindow:p,isArrayLike:f,merge:function t(e,n){let o=s(e),r=s(n);return o?r?([...Object.getOwnPropertyNames(n),...Object.getOwnPropertySymbols(n)].forEach((o=>{e[o]=t(e[o],n[o])})),e):e:n},each:function(t,e){var n,o=0;if(f(t))for(n=t.length;o<n&&!1!==e.call(t[o],o,t[o]);o++);else for(var r=[...Object.getOwnPropertyNames(t),...Object.getOwnPropertySymbols(t)];o<r.length;o++){var a=r[o],l=t[a];if(!1===e.call(l,a,l))break}return t}};function y(){this.pond=[]}function m(t){let e=this;e.config=t,e.$drag_modal=null,e.$drag_content=null,e.init()}y.prototype={constructor:y,on(t){let e=this.pond;!e.includes(t)&&e.push(t)},off(t){let e=this.pond;e.forEach(((n,o)=>n===t?e[o]=null:null))},fire(...t){let e=this.pond;for(let n=0;n<e.length;n++){let o=e[n];"function"==typeof o?o(...t):(e.splice(n,1),n--)}}},t=n.hmd(t),m.prototype={version:"1.0.0",constructor:m,init(){let t=this;t.create(),t.$drag_content&&t.$drag_content.addEventListener("click",(function(e){let n=e.target,o=n.tagName,r=n.className;if("A"!==o||"drag_close"!==r)if("A"!==o||"drag_button"!==r);else{let e=+n.getAttribute("index"),o=t.config.buttons[e];o&&g.isFunction(o.click)&&o.click.call(t,t)}else t.close()}))},create(){let t=this,e=t.config,n=document.createDocumentFragment();e.modal&&(t.$drag_modal=document.createElement("div"),t.$drag_modal.className="drag_modal",n.appendChild(t.$drag_modal)),t.$drag_content=document.createElement("div"),t.$drag_content.className="drag_content",t.$drag_content.innerHTML=`\n            <div class="drag_head">\n                ${e.title}\n                <a href="javascript:;" class="drag_close"></a>\n            </div>\n            <div class="drag_main">${e.template}</div>\n            ${e.buttons.length>0?`<div class="drag_foot">\n                ${e.buttons.map(((t,e)=>`<a href="javascript:;" class="drag_button" index="${e}">\n                        ${t.text}\n                    </a>`)).join("")}\n            </div>`:""}\n        `,n.appendChild(t.$drag_content),document.body.appendChild(n),n=null,t.$drag_content.offsetHeight,t.$drag_modal&&(t.$drag_modal.style.opacity=1),t.$drag_content.style.opacity=1},close(){let t=this,e=document.body;t.$drag_modal&&(t.$drag_modal.style.opacity=0,t.$drag_modal.ontransitionend=()=>{e.removeChild(t.$drag_modal),t.$drag_modal=null}),t.$drag_content&&(t.$drag_content.style.opacity=0,t.$drag_content.ontransitionend=()=>{e.removeChild(t.$drag_content),t.$drag_content=null})}};const b={title:{type:"string",default:"系统温馨提示"},template:{type:"string",required:!0},buttons:{type:"array",default:[]},modal:{type:"boolean",default:!0},drag:{type:"boolean",default:!0},onopen:{type:"function",default:()=>{}},onclose:{type:"function",default:()=>{}}},h=function(t){(!t||!g.isPlainObject(t))&&(t={});let e={};return g.each(b,((n,o)=>{let r=t[n],{type:a,default:l,required:c}=o;if(void 0!==r){if(g.toType(r)!==a)throw new TypeError(`${n} must be an ${a}!`);e[n]=g.merge(l,r)}else{if(c)throw new TypeError(n+" must be required!");e[n]=l}})),new m(e)};"undefined"!=typeof window&&(window.M=window.ModalPlugin=h),"object"==typeof t.exports&&(t.exports=h)}},e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={id:o,loaded:!1,exports:{}};return t[o](r,r.exports,n),r.loaded=!0,r.exports}n.hmd=t=>((t=Object.create(t)).children||(t.children=[]),Object.defineProperty(t,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+t.id)}}),t),n(598)})();