<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <canvas id="canvas" width="600px" height="900px"></canvas>
    <script>
        var ctx=document.getElementById('canvas').getContext('2d')
        // 设置数据
        const list=[10,50,80,90,50]
        // 求出数据的总和
       const total= list.reduce((old,newVa)=>old+newVa)
        // 根据总和设计每个数占得份数
        const listArr=[]
        list.forEach((i,index)=>{
            // const 份数
            listArr.push((i/total)*Math.PI*2)
        })
        // 进行遍历份数
        // 设置遍历的开始位置
        var star = 0;
        var x0=ctx.canvas.width/2
        var y0=ctx.canvas.height/2
        /*获取随机颜色*/
        var getRandomColor = function () {
            var r = Math.floor(Math.random() * 256);
            var g = Math.floor(Math.random() * 256);
            var b = Math.floor(Math.random() * 256);
            return 'rgb(' + r + ',' + g + ',' + b + ')';
        }
        listArr.forEach(function (item,i) {
        /*上一次绘制的结束弧度等于当前次的起始弧度*/
        // var end = star + item;
        // 设置结束的位置,结束位置,是上一次开始的位置
        var end=star+item
        ctx.beginPath();
        ctx.moveTo(x0,y0);
        ctx.arc(x0,y0,150,star,end);
        ctx.fillStyle = getRandomColor();
        ctx.fill();
        /*记录当前的结束位置作为下一次的起始位置*/
        star = end;
        });
        console.log(listArr);

    </script>
</body>
</html>